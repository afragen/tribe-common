tribe.validation={},function(e,i,r){"use strict";var t=i(document);e.selectors={item:".tribe-validation",fields:"input, select, textarea",submit:'input[type="submit"], button',error:".tribe-validation-error",valid:".tribe-validation-valid",notice:".tribe-notice-validation"},e.conditions={required:function(e){return""==e}},e.fn=function(){return this.each(e.setup)},e.setup=function(r,n){var a=i(n);a.addClass(e.selectors.item.className()),a.on("submit.tribe",e.onSubmit),a.on("validation.tribe",e.onValidation),a.on("displayErrors.tribe",e.onDisplayErrors),t.on("click.tribe",e.selectors.submit,e.onClickSubmitButtons)},e.validate=function(r,t){var n=i(t),a=e.isValid(n);a||(n.addClass(e.selectors.error.className()),n.one("change",e.onChangeFieldRemoveError))},e.isValid=function(i){var t=!0,n=i.val(),a=i.is(":disabled"),s={required:i.data("required")||i.is("[data-required]")||i.is("[required]")||!1};return a?t:(s=r.pick(s,function(e){return e}),t=r.reduce(s,function(r,t,a){return r||e.conditions[a](n,t,i)},!0))},e.onValidation=function(r){var t=i(this),n=t.find(e.selectors.fields);n.each(e.validate);var a=t.find(e.selectors.error);return 0!==a.length?void t.trigger("displayErrors.tribe"):void t.addClass(e.selectors.valid.className())},e.onDisplayErrors=function(r){var n=i(this),a=n.find(e.selectors.error),s=i("<ul>"),o=t.find(e.selectors.notice),l=i("<div>").addClass("notice notice-error tribe-notice").addClass(e.selectors.notice.className());if(a.each(function(e,r){var t=i(r),n=t.data("validationError"),a=i("<li>").text(n);s.append(a)}),l.append(s),0===o.length){var d=t.find(".wp-header-end");d.after(l)}else o.replaceWith(l)},e.onSubmit=function(r){var t=i(this);t.trigger("validation.tribe");var n=t.is(e.selectors.valid);if(!n)return r.preventDefault(),!1},e.onClickSubmitButtons=function(r){var t=i(this),n=t.parents(e.selectors.item);if(0!==n.length){var a=n.find(e.selectors.fields);a.off("invalid.tribe"),a.one("invalid.tribe",e.onInvalidField)}},e.onInvalidField=function(r){var t=i(this),n=t.parents(e.selectors.item);return t.addClass(e.selectors.error.className()),n.trigger("displayErrors.tribe"),t.one("change",e.onChangeFieldRemoveError),r.preventDefault(),!1},e.onChangeFieldRemoveError=function(r){var t=i(this);t.hasClass(e.selectors.error.className())&&t.removeClass(e.selectors.error.className())},e.onReady=function(r){i(e.selectors.item).validation()},i.fn.validation=e.fn,t.ready(e.onReady)}(tribe.validation,jQuery,_);
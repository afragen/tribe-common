tribe.validation={},function(e,r,i){"use strict";var t=r(document);e.selectors={item:".tribe-validation",fields:"input, select, textarea",submit:'input[type="submit"], button',error:".tribe-validation-error",valid:".tribe-validation-valid"},e.conditions={required:function(e){return""==e}},e.fn=function(){return this.each(e.setup)},e.setup=function(i,n){var a=r(n);a.addClass(e.selectors.item.className()),a.on("submit.tribe",e.onSubmit),a.on("validation.tribe",e.onValidation),a.on("displayErrors.tribe",e.onDisplayErrors),t.on("click.tribe",e.selectors.submit,e.onClickSubmitButtons)},e.validate=function(i,t){var n=r(t),a=e.isValid(n);a||(n.addClass(e.selectors.error.className()),n.one("change",e.onChangeFieldRemoveError))},e.isValid=function(r){var t=!0,n=r.val(),a=r.is(":disabled"),o={required:r.data("required")||r.is("[data-required]")||r.is("[required]")||!1};return a?t:(o=i.pick(o,function(e){return e}),t=i.reduce(o,function(i,t,a){return i||e.conditions[a](n,t,r)},!0))},e.onValidation=function(i){var t=r(this),n=t.find(e.selectors.fields);n.each(e.validate);var a=t.find(e.selectors.error);return 0!==a.length?void t.trigger("displayErrors.tribe"):void t.addClass(e.selectors.valid.className())},e.onDisplayErrors=function(i){var t=r(this),n=r(".wp-header-end"),a=r("<div>").addClass("notice notice-error tribe-notice"),o=t.find(e.selectors.error),s=r("<ul>");o.each(function(e,i){var t=r(i),n=t.data("validationError"),a=r("<li>").text(n);s.append(a)}),a.append(s),n.after(a)},e.onSubmit=function(i){var t=r(this);t.trigger("validation.tribe");var n=t.is(e.selectors.valid);if(!n)return i.preventDefault(),!1},e.onClickSubmitButtons=function(i){var t=r(this),n=t.parents(e.selectors.item);if(0!==n.length){var a=n.find(e.selectors.fields);a.off("invalid.tribe"),a.one("invalid.tribe",e.onInvalidField)}},e.onInvalidField=function(i){var t=r(this),n=t.parents(e.selectors.item);return t.addClass(e.selectors.error.className()),n.trigger("displayErrors.tribe"),t.one("change",e.onChangeFieldRemoveError),i.preventDefault(),!1},e.onChangeFieldRemoveError=function(i){var t=r(this);t.hasClass(e.selectors.error.className())&&t.removeClass(e.selectors.error.className())},e.onReady=function(i){r(e.selectors.item).validation()},r.fn.validation=e.fn,t.ready(e.onReady)}(tribe.validation,jQuery,_);
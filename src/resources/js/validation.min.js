tribe.validation={},function(e,r,i){"use strict";var t=r(document);e.selectors={item:".tribe-validation",fields:"input, select, textarea",submit:'input[type="submit"], button',error:".tribe-validation-error",valid:".tribe-validation-valid"},e.fn=function(){return this.each(e.setup)},e.setup=function(i,n){var a=r(n);a.addClass(e.selectors.item.className()),a.on("submit.tribe",e.on_submit),a.on("validation.tribe",e.on_validation),a.on("displayErrors.tribe",e.on_display_errors),t.on("click.tribe",e.selectors.submit,e.on_click_submit_buttons)},e.conditions={required:function(e){return""==e}},e.validate=function(i,t){var n=r(t),a=e.is_valid(n);a||(n.addClass(e.selectors.error.className()),n.one("change",e.on_change_field_remove_error))},e.is_valid=function(r){var t=!0,n=r.val(),a=r.is(":disabled"),s={required:r.data("required")||r.is("[data-required]")||r.is("[required]")||!1};return a?t:(s=i.pick(s,function(e){return e}),t=i.reduce(s,function(i,t,a){return i||e.conditions[a](n,t,r)},!0))},e.on_validation=function(i){var t=r(this),n=t.find(e.selectors.fields);n.each(e.validate);var a=t.find(e.selectors.error);return 0!==a.length?void t.trigger("displayErrors.tribe"):void t.addClass(e.selectors.valid.className())},e.on_display_errors=function(i){var t=r(this),n=r(".wp-header-end"),a=r("<div>").addClass("notice notice-error tribe-notice"),s=t.find(e.selectors.error),o=r("<ul>");s.each(function(e,i){var t=r(i),n=t.data("validationError"),a=r("<li>").text(n);o.append(a)}),a.append(o),n.after(a)},e.on_submit=function(i){var t=r(this);t.trigger("validation.tribe");var n=t.is(e.selectors.valid);if(!n)return i.preventDefault(),!1},e.on_click_submit_buttons=function(i){var t=r(this),n=t.parents(e.selectors.item);if(0!==n.length){var a=n.find(e.selectors.fields);a.off("invalid.tribe"),a.one("invalid.tribe",e.on_invalid_field)}},e.on_invalid_field=function(i){var t=r(this),n=t.parents(e.selectors.item);return t.addClass(e.selectors.error.className()),n.trigger("displayErrors.tribe"),t.one("change",e.on_change_field_remove_error),i.preventDefault(),!1},e.on_change_field_remove_error=function(i){var t=r(this);t.hasClass(e.selectors.error.className())&&t.removeClass(e.selectors.error.className())},e.on_ready=function(i){r(e.selectors.item).validation()},r.fn.validation=e.fn,t.ready(e.on_ready)}(tribe.validation,jQuery,_);
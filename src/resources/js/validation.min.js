tribe.validation={},function(e,i,t){"use strict";var r=i(document);e.selectors={item:".tribe-validation",fields:"input, select, textarea",submit:'input[type="submit"], button',error:".tribe-validation-error",valid:".tribe-validation-valid",notice:".tribe-notice-validation",noticeAfter:".wp-header-end",noticeDismiss:".notice-dismiss"},e.conditions={required:function(e){return""==e}},e.fn=function(){return this.each(e.setup)},e.setup=function(t,s){var n=i(s);n.addClass(e.selectors.item.className()),n.on("submit.tribe",e.onSubmit),n.on("validation.tribe",e.onValidation),n.on("displayErrors.tribe",e.onDisplayErrors),r.on("click.tribe",e.selectors.submit,e.onClickSubmitButtons),r.on("click.tribe",e.selectors.noticeDismiss,e.onClickDismissNotice)},e.validate=function(t,r){var s=i(r),n=e.isValid(s);n||(s.addClass(e.selectors.error.className()),s.one("change",e.onChangeFieldRemoveError))},e.isValid=function(i){var r=!0,s=i.val(),n=i.is(":disabled"),a={required:i.data("required")||i.is("[data-required]")||i.is("[required]")||!1};return n?r:(a=t.pick(a,function(e){return e}),r=t.reduce(a,function(t,r,n){return t||e.conditions[n](s,r,i)},!0))},e.onValidation=function(t){var r=i(this),s=r.find(e.selectors.fields);s.each(e.validate);var n=r.find(e.selectors.error);return 0!==n.length?void r.trigger("displayErrors.tribe"):void r.addClass(e.selectors.valid.className())},e.onDisplayErrors=function(t){var s=i(this),n=s.find(e.selectors.error),a=i("<ul>"),o=i("<span>").addClass(e.selectors.noticeDismiss.className()),l=r.find(e.selectors.notice),d=i("<div>").addClass("notice notice-error is-dismissible tribe-notice").addClass(e.selectors.notice.className()).append(o);if(n.each(function(e,t){var r=i(t),s=r.data("validationError"),n=i("<li>").text(s);n.data("validationField",r),r.data("validationNoticeItem",r),a.append(n)}),d.append(a),0===l.length){var c=r.find(e.selectors.noticeAfter);c.after(d)}else l.replaceWith(d)},e.onSubmit=function(t){var r=i(this);r.trigger("validation.tribe");var s=r.is(e.selectors.valid);if(!s)return t.preventDefault(),!1},e.onClickSubmitButtons=function(t){var r=i(this),s=r.parents(e.selectors.item);if(0!==s.length){var n=s.find(e.selectors.fields);n.off("invalid.tribe"),n.one("invalid.tribe",e.onInvalidField)}},e.onInvalidField=function(t){var r=i(this),s=r.parents(e.selectors.item);return r.addClass(e.selectors.error.className()),s.trigger("displayErrors.tribe"),r.one("change",e.onChangeFieldRemoveError),t.preventDefault(),!1},e.onChangeFieldRemoveError=function(t){var r=i(this);r.hasClass(e.selectors.error.className())&&r.removeClass(e.selectors.error.className())},e.onClickDismissNotice=function(t){var r=i(this),s=r.parents(e.selectors.notice);s.remove()},e.onReady=function(t){i(e.selectors.item).validation()},i.fn.validation=e.fn,r.ready(e.onReady)}(tribe.validation,jQuery,_);
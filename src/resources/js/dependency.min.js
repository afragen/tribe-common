<<<<<<< HEAD
!function(e,n){"use strict";var i=e(document),t={dependent:".tribe-dependent",active:".tribe-active",dependency:".tribe-dependency",fields:"input, select, textarea",advanced_fields:".select2-container"};e.fn.dependency=function(){this.each(function(){var n=e(this).data("depends");e(n).addClass(t.dependency.replace(".","")).data("dependent",e(this))})},i.off("change.dependency verify.dependency",t.dependency).on({"verify.dependency":function(d){var c,a=e(this),o="#"+a.attr("id"),s=a.val();if(o){var r=i.find('[data-depends="'+o+'"]').not(".select2-container");c={condition:function(e,i){return n.isArray(i)?-1!==i.indexOf(e):e==i},not_condition:function(e,i){return n.isArray(i)?-1===i.indexOf(e):e!=i},is_not_empty:function(e){return""!=e},is_empty:function(e){return""===e},is_numeric:function(n){return e.isNumeric(n)},is_not_numeric:function(n){return!e.isNumeric(n)},is_checked:function(e,n,i){return!!i.is(":checkbox")&&i.is(":checked")},is_not_checked:function(e,n,i){return!!i.is(":checkbox")&&!i.is(":checked")}},r.each(function(i,d){var o=e(this).data("parent"),r=null;r=o?e(this).closest(o).find(d):e(d);var u,f={condition:r.data("condition")||!1,not_condition:r.data("conditionNot")||!1,is_not_empty:r.data("conditionNotEmpty")||r.is("[data-condition-not-empty]"),is_empty:r.data("conditionEmpty")||r.is("[data-condition-empty]"),is_numeric:r.data("conditionIsNumeric")||r.is("[data-condition-is-numeric]"),is_not_numeric:r.data("conditionIsNotNumeric")||r.is("[data-condition-is-not-numeric]"),is_checked:r.data("conditionChecked")||r.is("[data-condition-is-checked]"),is_not_checked:r.data("conditionIsNotChecked")||r.is("[data-condition-is-not-checked]")},p=t.active.replace(".",""),l=a.is(":disabled"),y=r.data("condition-relation")||"or";f=n.pick(f,function(e){return e}),u="or"===y?n.reduce(f,function(e,n,i){return e||c[i](s,n,a)},!1):n.reduce(f,function(e,n,i){return e&&c[i](s,n,a)},!0),u&&!l?(r.data("select2")?(r.data("select2").container.addClass(p),r.data("select2").container.is(":hidden")&&r.data("select2").container.show()):(r.addClass(p),r.is(":hidden")&&r.show()),r.find(t.fields).prop("disabled",!1).end().find(".select2-container").select2("enable",!0)):(r.removeClass(p),r.is(":visible")&&r.hide(),r.find(t.fields).prop("disabled",!0).end().find(".select2-container").select2("enable",!1),r.data("select2")&&r.data("select2").container.removeClass(p)),r.find(t.dependency).trigger("change")})}},"change.dependency":function(n){e(this).trigger("verify.dependency")}},t.dependency),i.ready(function(){e(t.dependent).dependency(),e(t.dependency).trigger("verify.dependency")})}(jQuery,_);
=======
!function(e,n){"use strict";var i=e(document),t={dependent:".tribe-dependent",active:".tribe-active",dependency:".tribe-dependency",fields:"input, select, textarea",advanced_fields:".select2-container",linked:".tribe-dependent-linked"};e.fn.dependency=function(){this.each(function(){var n=e(this).data("depends");e(n).addClass(t.dependency.replace(".","")).data("dependent",e(this))})},i.off("change.dependency verify.dependency",t.dependency).on({"verify.dependency":function(d){var c,a=e(this),o="#"+a.attr("id"),r=a.val();if(o){if(a.is(":radio")){var s=e("[name='"+a.attr("name")+"']");s.not(t.linked).on("change",function(){s.trigger("verify.dependency")}).addClass(t.linked.replace(".",""))}var u=i.find('[data-depends="'+o+'"]').not(".select2-container");c={condition:function(e,i){return n.isArray(i)?-1!==i.indexOf(e):e==i},not_condition:function(e,i){return n.isArray(i)?-1===i.indexOf(e):e!=i},is_not_empty:function(e){return""!=e},is_empty:function(e){return""===e},is_numeric:function(n){return e.isNumeric(n)},is_not_numeric:function(n){return!e.isNumeric(n)},is_checked:function(e,n,i){return!(!i.is(":checkbox")&&!i.is(":radio"))&&i.is(":checked")},is_not_checked:function(e,n,i){return!(!i.is(":checkbox")&&!i.is(":radio"))&&!i.is(":checked")}},console.info("info"),console.warn("warn"),u.each(function(i,d){var o=e(d),s=o.is("[data-dependent-parent]");if(s){var u=o.data("dependentParent"),f=o.closest(u);if(0===f.length)return void console.warn("Dependency: `data-dependent-parent` has bad selector",o);o=f.find(d)}var p,l={condition:o.data("condition")||!1,not_condition:o.data("conditionNot")||!1,is_not_empty:o.data("conditionNotEmpty")||o.is("[data-condition-not-empty]"),is_empty:o.data("conditionEmpty")||o.is("[data-condition-empty]"),is_numeric:o.data("conditionIsNumeric")||o.is("[data-condition-is-numeric]"),is_not_numeric:o.data("conditionIsNotNumeric")||o.is("[data-condition-is-not-numeric]"),is_checked:o.data("conditionChecked")||o.is("[data-condition-is-checked]"),is_not_checked:o.data("conditionIsNotChecked")||o.is("[data-condition-is-not-checked]")},y=t.active.replace(".",""),h=a.is(":disabled"),m=o.data("condition-relation")||"or";l=n.pick(l,function(e){return e}),p="or"===m?n.reduce(l,function(e,n,i){return e||c[i](r,n,a)},!1):n.reduce(l,function(e,n,i){return e&&c[i](r,n,a)},!0),p&&!h?(o.data("select2")?(o.data("select2").container.addClass(y),o.data("select2").container.is(":hidden")&&o.data("select2").container.show()):(o.addClass(y),o.is(":hidden")&&o.show()),o.find(t.fields).prop("disabled",!1).end().find(".select2-container").select2("enable",!0)):(o.removeClass(y),o.is(":visible")&&o.hide(),o.find(t.fields).prop("disabled",!0).end().find(".select2-container").select2("enable",!1),o.data("select2")&&o.data("select2").container.removeClass(y)),o.find(t.dependency).trigger("change")})}},"change.dependency":function(n){e(this).trigger("verify.dependency")}},t.dependency),i.ready(function(){e(t.dependent).dependency(),e(t.dependency).trigger("verify.dependency")})}(jQuery,_);
>>>>>>> 3a608fcf... More efficient parent finding
